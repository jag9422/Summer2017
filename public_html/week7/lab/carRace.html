<!DOCTYPE html>

<html>
    <head>
        <title>Car Race</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style type="text/css">
            canvas {
                border: 3px solid black;
            }
        </style>
    </head>
    <body>
        <h1>Let's Race!</h1>
        <canvas id="race" width="1000" height="150"></canvas>
        <br />
        <button id="play" onclick="style.display = 'none'" >Play</button>


        <script type="text/javascript">



            var can = document.querySelector('#race');
            var ctx = can.getContext('2d');
            var play = document.querySelector("#play");


            var blueObj = {
                'width': 70,
                'height': 30,
                'xaxis': 10,
                'yaxis': 30
            };

            var redObj = {
                'width': 70,
                'height': 30,
                'xaxis': 10,
                'yaxis': 90
            };

            function finishLine() {

                //finish line
                window.ctx.beginPath();
                window.ctx.moveTo(900, 0);
                window.ctx.lineTo(900, 900);
                window.ctx.lineTo(window.can.width, window.can.height);
                window.ctx.stroke();

            }
            function drawClear() {
                window.ctx.clearRect(0, 0, window.can.width, window.can.height);
            }
            var width = 50,
                    height = 50,
                    xaxis = 150,
                    yaxis = 0;

            var canvasBottom = (window.can.height - window.height);
            var canvasRight = (window.can.width - window.width);

            function randNum(max) {
                return Math.ceil(Math.random() * max) + 1;
            }

            function rectangles() {
                //red rectangle
                ctx.fillStyle = 'red';
                ctx.fillRect(redObj.xaxis, 90, 70, 30);
                ctx.stroke();


                //blue rectangle
                ctx.fillStyle = 'blue';
                ctx.fillRect(blueObj.xaxis, 30, 70, 30);
                ctx.stroke();
            }



            function start() {

                drawClear();
                finishLine();
                blueObj.xaxis += randNum(20);
                redObj.xaxis += randNum(20);
                rectangles();
                setTimeout(start, 100);

                if (blueObj.xaxis <= 900 && redObj <= 900) {

                    setTimeout(play, 50);

                } else {
                    reset();
                }}
                function reset() {

                    window.blueobj = 0;
                    window.redobj = 0;
                }
                play.addEventListener("click", start);

        </script>
    </body>
</html>
